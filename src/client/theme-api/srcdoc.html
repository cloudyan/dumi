<!doctype html>
<html>

<head>
  <script>
    (function () {
      let scriptEls = [];
      function handleMessage(e) {
        if (scriptEls.length) {
          scriptEls.forEach((el) => {
            document.body.removeChild(el);
          });
          scriptEls = [];
        }
        const { esm } = e.data;
        const scriptEl = document.createElement('script');
        scriptEl.setAttribute('type', 'module');
        scriptEl.innerHTML = esm;
        scriptEl.onerror = function(error) {
          parent.postMessage({ type: '{eventPrefix}.esm.error', error });
        };
        document.body.appendChild(scriptEl);
        scriptEls.push(scriptEl);
      }
      window.addEventListener('message', handleMessage, false);

    })()
  </script>
  <script type="importmap">
    {importmap}
  </script>
</head>

<body>
</body>

</html>
